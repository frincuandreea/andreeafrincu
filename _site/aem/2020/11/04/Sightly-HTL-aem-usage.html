<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <!-- Main JS (navbar.js, katex_init.js and masonry_init.js)-->
    <script defer src="/assets/js/main.min.js"></script>
    
    <!-- CSS -->
    <link rel="stylesheet" href="/assets/css/main.css">

    <!--Favicon-->
    <link rel="shortcut icon" href="/assets/favicon.ico" type="image/x-icon">

    <!-- RSS -->
    <link rel="alternate" type="application/atom+xml" title="Andreea Frincu" href="https://andreea88.github.io/feed.xml"/>
    
    

    <!-- KaTeX 0.12.0 -->
    <!-- if you have any issue check https://github.com/KaTeX/KaTeX -->
    
    <script defer src="/assets/js/vendor/katex.min.js"></script>
    <script defer src="/assets/js/vendor/auto-render.min.js" onload="renderMathInElement(document.body);"></script>
    

    <!-- Google Analytics / Cookie Consent -->
    <script>
      const cookieName = 'cookie-notice-dismissed-https://andreea88.github.io';
      const isCookieConsent = 'false';
      const analyticsName = '';
    </script>

    
    

    <!-- seo tags -->
    <meta property="og:image" content="https://andreea88.github.io/assets/img/pexels/nature.jpg">
    
    <meta property="og:type" content="website" />
    
    <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Using HTL in AEM application | Andreea Frincu</title>
<meta name="generator" content="Jekyll v4.2.1" />
<meta property="og:title" content="Using HTL in AEM application" />
<meta property="og:locale" content="en" />
<meta name="description" content="Today I am going to write about HTL. HTL comes from HTML Template Language and is the recommended server-side template system for the HTML in AEM. This was introduced to take place of the JSP (JavaServer Pages) which was used in the previous versions of AEM." />
<meta property="og:description" content="Today I am going to write about HTL. HTL comes from HTML Template Language and is the recommended server-side template system for the HTML in AEM. This was introduced to take place of the JSP (JavaServer Pages) which was used in the previous versions of AEM." />
<link rel="canonical" href="https://andreea88.github.io/aem/2020/11/04/Sightly-HTL-aem-usage.html" />
<meta property="og:url" content="https://andreea88.github.io/aem/2020/11/04/Sightly-HTL-aem-usage.html" />
<meta property="og:site_name" content="Andreea Frincu" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-11-04T00:00:00+01:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Using HTL in AEM application" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2020-11-04T00:00:00+01:00","datePublished":"2020-11-04T00:00:00+01:00","description":"Today I am going to write about HTL. HTL comes from HTML Template Language and is the recommended server-side template system for the HTML in AEM. This was introduced to take place of the JSP (JavaServer Pages) which was used in the previous versions of AEM.","headline":"Using HTL in AEM application","mainEntityOfPage":{"@type":"WebPage","@id":"https://andreea88.github.io/aem/2020/11/04/Sightly-HTL-aem-usage.html"},"url":"https://andreea88.github.io/aem/2020/11/04/Sightly-HTL-aem-usage.html"}</script>
<!-- End Jekyll SEO tag -->


    <!-- RSS -->
    <link type="application/atom+xml" rel="alternate" href="https://andreea88.github.io/feed.xml" title="Andreea Frincu" />

    <!-- Twitter Cards -->
    <meta name="twitter:title" content="Using HTL in AEM application">
    <meta name="twitter:description" content="Today I am going to write about HTL. HTL comes from HTML Template Language and is the recommended server-side template system for the HTML in AEM. This was i...">
    
    <meta name="twitter:card" content="summary">
    <meta name="twitter:image" content="https://andreea88.github.io/assets/img/pexels/nature.jpg">
    <meta name="twitter:image:alt" content="Using HTL in AEM application">
</head>

  <body>
    <header class="site-header">

    <!-- Logo and title -->
	<div class="branding">
        
        
		<a href="/">
			<img alt="logo img" class="avatar" src="/assets/img/mylogo.png" />
		</a>
        
        <a class="site-title" aria-label="Andreea Frincu" href="/">
        Andreea Frincu
		</a>
	</div>

    <!-- Toggle menu -->
    <nav class="clear">
    <a aria-label="pull" id="pull" class="toggle" href="#">
    <i class="fa fa-bars fa-lg"></i>
    </a>
        <ul class="hide">
        
        
        <li><a href="/aem/2020/11/04/Sightly-HTL-aem-usage.html"
               class="active" >en</a></li>

        
        
        
            <li> |<a href="/ro/aem/2020/11/04/Sightly-HTL-aem-usage.html"
                      >ro</a></li>
        
        
        </ul>
    <!-- Menu -->
    <ul class="hide">
        
        <li>
            
            
            <a class="clear" aria-label="home" title="home}" href="/">Home</a>
            
        </li>
        <li class="separator"> | </li>
        
            
            
        
            
            <li class="separator"> | </li>
            <li>
                
                <a class="clear" aria-label="about_me" title="about_me" href="/about/">
                     About me
                    
                </a>
            </li>
            
            
        
            
            
        
            
            
        
            
            
        
            
            <li class="separator"> | </li>
            <li>
                
                <a class="clear" aria-label="search" title="search" href="/search/">
                     <i class="fa fa-search" aria-hidden="true"></i>
                    
                </a>
            </li>
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
    </ul>


	</nav>
</header>

    <div class="content">
      <article >
  <header id="main" style="">
    <div class="title-padder">
      
      <h1 id="Using+HTL+in+AEM+application" class="title">Using HTL in AEM application</h1>
      


<div class="post-info">
    <p class="meta">
      November 4, 2020
    </p></div>

      
    </div>
     <span class="read-time" title="Estimated read time">
  <svg id="i-clock" viewBox="0 0 32 32" width="20" height="20" fill="none" stroke="currentcolor" stroke-linecap="round"
       stroke-linejoin="round" stroke-width="2"><circle cx="16" cy="16" r="14" /><path d="M16 8 L16 16 20 20" /></svg>

  
  
    4 mins read.
  
</span>
    <style>
      svg#i-clock {vertical-align: middle;}
    </style>
  </header>




  <section class="post-content">
  
      <p>Today I am going to write about HTL. HTL comes from HTML Template Language and is the recommended server-side template system for the HTML in AEM. This was introduced to take place of the JSP (JavaServer Pages) which was used in the previous versions of AEM.</p>

<p>I always notice that when somebody comes new into an AEM project and I am talking about HTL they do not have a clue what I am talking about. My advice if you want to start working with an AEM application please read the AEM documentation about HTL. I will write in this post what are the important points which you need to know in order to write server-side HTML.</p>

<p>Before starting creating any component in AEM we need to know about the following topics in HTL:</p>

<ol>
  <li>Global Objects</li>
  <li>Block Statements</li>
  <li>Expression Language</li>
</ol>

<p><strong>Global Objects</strong></p>

<p>In the first moment after you create the corresponding html file of your AEM component you need to know that you can access some objects which are called <em>Global Objects</em>.
The most used global objects are:</p>

<table>
  <thead>
    <tr>
      <th>Object name</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>properties</td>
      <td>contains the list of properties of the current resource, for example your component; type org.apache.sling.api.resource.ValueMap</td>
    </tr>
    <tr>
      <td>pageProperties</td>
      <td>a list of page properties which contains your component; type org.apache.sling.api.resource.ValueMap</td>
    </tr>
    <tr>
      <td>inheritedPageProperties</td>
      <td>list of inherited page properties of the current page; type org.apache.sling.api.resource.ValueMap</td>
    </tr>
    <tr>
      <td>currentPage</td>
      <td>allow access to the current page where the component is included; type com.day.cq.wcm.api.Page</td>
    </tr>
    <tr>
      <td>resource</td>
      <td>allow access to the current resource in this case is the component resource; type org.apache.sling.api.resource.Resource</td>
    </tr>
    <tr>
      <td>request</td>
      <td>allow access to the current request; type org.apache.sling.api.SlingHttpServletRequest</td>
    </tr>
    <tr>
      <td>response</td>
      <td>allow access to the current response where you can add headers, cookies; type org.apache.sling.api.SlingHttpServletResponse</td>
    </tr>
  </tbody>
</table>

<p>You can find more global objects on the adobe documentation about this at <a href="https://docs.adobe.com/content/help/en/experience-manager-htl/using/htl/global-objects.html">AEM Global Objects</a>.</p>

<p><strong>Block Statements</strong></p>

<p>The most used statements are:</p>

<h5 id="1-data-sly-use---initializes-a-helper-object-and-expose-it-through-a-variable-below-you-can-see-example-of-usages">1. data-sly-use - initializes a helper object and expose it through a variable. Below you can see example of usages.</h5>

<ul>
  <li>initialize a javascript object which is in the same directory with the template file</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;div data-sly-use.head="head.js"&gt;${head.title}&lt;/div&gt;
&lt;div data-sly-use.head="${'head.js' @param='test'}"&gt;${head.title}&lt;/div&gt;
</code></pre></div></div>

<ul>
  <li>initialize a Java object which is in the same directory with the template file</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;div data-sly-use.head="Head"&gt;${head.title}&lt;/div&gt;
</code></pre></div></div>

<ul>
  <li>initialize a Java object which is in not in the same directory with the template file</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;div data-sly-use.head="org.example.mypackage.Head"&gt;${head.title}&lt;/div&gt;
</code></pre></div></div>

<ul>
  <li>initialize another HTL template</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;div data-sly-use.header="headerTemplate.html" data-sly-call="${header.simple}"&gt;&lt;/div&gt;
</code></pre></div></div>

<h5 id="2-data-sly-unwrap---removes-the-host-element">2. data-sly-unwrap - removes the host element.</h5>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;p data-sly-unwrap&gt;Hello there!&lt;/p&gt;
</code></pre></div></div>

<p>The result of the expression above is : Hello there! without any html tag.</p>

<h5 id="3-data-sly-attribute---add-attributes-to-the-host-element">3. data-sly-attribute - add attributes to the host element.</h5>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;p data-sly-attribute.id="test"&gt;Hello there!&lt;/p&gt;
</code></pre></div></div>

<p>The result of the expression above is:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;p id="test"&gt;Hello there!&lt;/p&gt;
</code></pre></div></div>

<h5 id="4-data-sly-test---conditional-expression-if-the-condition-is-true-then-the-host-element-is-displayed-otherwise-is-removed">4. data-sly-test - conditional expression if the condition is true then the host element is displayed otherwise is removed.</h5>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;div data-sly-test.cond="${flag1 &amp;&amp; flag2}"&gt;When flag1 and flag2 are true I am displayed!&lt;/div&gt;
</code></pre></div></div>

<h5 id="5-data-sly-list---repeats-the-host-element-for-every-element-from-the-enumerable">5. data-sly-list - repeats the host element for every element from the enumerable.</h5>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;ul&gt;
&lt;li data-sly-list.child="${resource.listChildren}"&gt;
    &lt;span&gt;index: ${childList.index}&lt;/span&gt;
    &lt;span&gt;value: ${child.title}&lt;/span&gt;
&lt;/li&gt;
&lt;/ul&gt;
</code></pre></div></div>

<p>Inside the list using the childList you also have access to the following properties:</p>

<ul>
  <li>count - one based counter (1…length)</li>
  <li>first - true if the current element is the first one</li>
  <li>middle - true if the current element is not the first or the last</li>
  <li>last - true if the current element is the last</li>
  <li>odd - true if the index is odd</li>
  <li>even - true if the index is even</li>
</ul>

<h5 id="6-data-sly-resource---includes-the-result-of-rendering-the-indicating-resource">6. data-sly-resource - includes the result of rendering the indicating resource.</h5>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;div data-sly-resource="path/to/resource"&gt;&lt;/div&gt;
&lt;div data-sly-resource="${resource.path}"&gt;&lt;/div&gt;
&lt;div data-sly-resource="${'test' @ resourceType='my/resource/type'}"&gt;&lt;/div&gt;
</code></pre></div></div>

<h5 id="7-data-sly-include---replaces-the-content-of-the-host-element-with-the-markup-generated-by-the-htl-file-which-is-included">7. data-sly-include - replaces the content of the host element with the markup generated by the HTL file which is included.</h5>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;div data-sly-include="path/to/template.html"&gt;&lt;/div&gt;
</code></pre></div></div>

<h5 id="8-data-sly-template---defines-a-template">8. data-sly-template - defines a template.</h5>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;template data-sly-template.test="${ @ text}"&gt;&lt;h2&gt;${text}&lt;/h2&gt;&lt;/div&gt;
</code></pre></div></div>

<h5 id="9-data-sly-call---calls-a-template-defined-by-the-data-sly-template">9. data-sly-call - calls a template defined by the data-sly-template.</h5>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;template data-sly-template.test="${ @ text}"&gt;&lt;h2&gt;${text}&lt;/h2&gt;&lt;/div&gt;
&lt;div data-sly-call="${test @ text='testText'}"&gt;&lt;/div&gt;
</code></pre></div></div>

<p><strong>Expression Language</strong></p>

<p>The HTL uses an expression language to access the data structure. This expressions are delimited by ${ and }.
The expression syntax contains variables, operators, literals and options. In the AEM documentation you can fin much more about this just folow the link <a href="https://docs.adobe.com/content/help/en/experience-manager-htl/using/htl/expression-language.html">AEM Expression Language</a>.</p>

<p>This is the summary about the HTL if you follow the links that I provide it you will find much more. Thank you  for reading this if you like it please feel free to share it. If you have any suggestion I am open to it.</p>

    
  </section>

  <!-- Social media shares -->
  

<div class="share-buttons">
    <ul class="share-buttons">
        <div class="meta">Share</div>
              
        <li>
            <a href="http://www.linkedin.com/shareArticle?mini=true&url=https://andreea88.github.io/aem/2020/11/04/Sightly-HTL-aem-usage.html&title=Using+HTL+in+AEM+application%20%7C%20Andreea+Frincu&summary=&source=https://andreea88.github.io/aem/2020/11/04/Sightly-HTL-aem-usage.html" target="_blank" title=" LinkedIn">
			<i class="fa fa-linkedin fa-2x" aria-hidden="true"></i>
			<span class="sr-only">Share on LinkedIn</span>
		</a>
        </li>
          
        <li>
            <a href="mailto:?subject=Using+HTL+in+AEM+application%20%7C%20Andreea+Frincu&body=:%20https://andreea88.github.io/aem/2020/11/04/Sightly-HTL-aem-usage.html" target="_blank" title="">
			<i class="fa fa-envelope-square fa-2x" aria-hidden="true"></i>
			<span class="sr-only">Email</span>
		</a>
        </li>
        
    </ul>
</div>




   <!-- Tag list -->
  
  


<footer>
  <div class="tag-list">
    
      <div class="meta">Tags</div>
    

    
    <a class="button" href="/tags#AEM">
      <p><i class="fa fa-tag fa-fw"></i> AEM</p>
    </a>
    
    <a class="button" href="/tags#HTL">
      <p><i class="fa fa-tag fa-fw"></i> HTL</p>
    </a>
    
  </div>
</footer>



</article>

<!-- Disqus -->


<!-- Post navigation -->

  <div id="post-nav">
    

    
    <div id="next-post">
        <a alt="Convert @SlingServlet to @Component" href="/aem/2019/09/22/Convert-SlingServlet-example.html">
            <p>Next post</p>
            Convert @SlingServlet to @Component
        </a>
    </div>
    
</div>



<!-- To change color of links in the page -->
<style>
  

  header#main {
    background-repeat:no-repeat;
  
  }
</style>

    </div>
    <footer class="site-footer">
    <p class="text">
        andreeafrincu
           </p>
            <div class="footer-icons">
                <ul>
                <!-- Social icons from Font Awesome, if enabled -->
                


<li>
    <a href="mailto:frincuandreeaoana@gmail.com" title="Email">
		<span class="fa-stack fa-lg">
            <i class="fa fa-circle fa-stack-2x"></i>
            <i class="fa fa-envelope fa-stack-1x fa-inverse"></i>
        </span>
    </a>
</li>













<li>
    <a href="https://github.com/frincuandreea" title="Follow on GitHub">
		<span class="fa-stack fa-lg">
            <i class="fa fa-circle fa-stack-2x"></i>
            <i class="fa fa-github fa-stack-1x fa-inverse"></i>
        </span>
    </a>
</li>







<li>
    <a href="https://www.linkedin.com/in/frincu-andreea-71071930" title="Follow on LinkedIn">
		<span class="fa-stack fa-lg">
            <i class="fa fa-circle fa-stack-2x"></i>
            <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i>
        </span>
    </a>
</li>


























                </ul>
            </div>
</footer>



  </body>
</html>
